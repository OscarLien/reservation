(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{2664:function(t,e,a){t.exports=a.p+"img/logo_block.d4ac2160.svg"},"32a6":function(t,e,a){t.exports=a.p+"img/tick-inside-circle.5e18caa0.svg"},"46ff":function(t,e,a){t.exports=a.p+"img/Sofa.bb3c8f2e.svg"},"4a6c":function(t,e,a){t.exports=a.p+"img/breakfast.c4c2c972.svg"},"6d68":function(t,e,a){t.exports=a.p+"img/dog.6a06afa1.svg"},"7a10":function(t,e,a){t.exports=a.p+"img/crawling-baby-silhouette.c76c9ad5.svg"},a46c:function(t,e,a){t.exports=a.p+"img/Refrigerator.71392459.svg"},bbda:function(t,e,a){t.exports=a.p+"img/bar.92950803.svg"},c355:function(t,e,a){t.exports=a.p+"img/no-smoke-symbol.74436c49.svg"},cdb6:function(t,e,a){t.exports=a.p+"img/breeze.410d1c42.svg"},dbb4:function(t,e,a){t.exports=a.p+"img/room_service.ef31df00.svg"},e4b5:function(t,e,a){t.exports=a.p+"img/phone.16543ec9.svg"},f820:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,s=t._self._c||e;return t.roomDetail?s("div",{staticClass:"about"},[s("loading",{attrs:{active:t.isLoading},on:{"update:active":function(e){t.isLoading=e}}}),s("div",{staticClass:"imgBanner"},[s("router-link",{attrs:{to:"/"}},[s("img",{staticClass:"logo",attrs:{src:a("2664"),alt:""}})]),s("div",{staticClass:"roomImg--left"},[s("img",{attrs:{src:t.roomDetail.imageUrl[0]}})]),s("div",{staticClass:"roomImg--right"},[s("img",{attrs:{src:t.roomDetail.imageUrl[1]}}),s("img",{attrs:{src:t.roomDetail.imageUrl[2]}})])],1),s("div",{staticClass:"container mt-5"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-6"},[s("div",{staticClass:"roomTitle"},[t._v(" "+t._s(t.roomDetail.name)+" ")]),s("div",{staticClass:"roomDetail"},[s("ul",{staticClass:"detailShort"},[s("li",[t._v(" 房客人數限制: "+t._s(t.roomDetail.descriptionShort.GuestMin)+" -"+t._s(t.roomDetail.descriptionShort.GuestMax)+"人 ")]),s("li",[t._v("床型: "+t._s(t.roomDetail.descriptionShort.Bed[0]))]),s("li",[t._v(" 衛浴數量: "+t._s(t.roomDetail.descriptionShort["Private-Bath"])+"間 ")]),s("li",[t._v(" 房間大小: "+t._s(t.roomDetail.descriptionShort.Footage)+"平方公尺 ")])]),s("p",{staticClass:"detail"},[t._v(t._s(t.roomDetail.description))]),s("span",[t._v("///")]),s("div",{staticClass:"checkTime"},[s("div",{staticClass:"checkIn"},[s("h6",[t._v("Check In")]),t._v(" "+t._s(t.roomDetail.checkInAndOut.checkInEarly)+" - "+t._s(t.roomDetail.checkInAndOut.checkInLate)+" ")]),s("div",{staticClass:"checkOut"},[s("h6",[t._v("Check Out")]),t._v(" "+t._s(t.roomDetail.checkInAndOut.checkOut)+" ")])]),s("ul",{staticClass:"roomFeature"},[s("li",{style:{opacity:t.isFeature(t.features["Wi-Fi"])}},[s("img",{staticClass:"featureImg",attrs:{src:a("fd81"),alt:""}}),t._v("Wi-Fi ")]),s("li",{style:{opacity:t.isFeature(t.features["Television"])}},[s("img",{staticClass:"featureImg",attrs:{src:a("e4b5"),alt:""}}),t._v("電話 ")]),s("li",{style:{opacity:t.isFeature(t.features["Great-View"])}},[s("img",{staticClass:"featureImg",attrs:{src:a("fde9"),alt:""}}),t._v("漂亮的視野 ")]),s("li",{style:{opacity:t.isFeature(t.features["Breakfast"])}},[s("img",{staticClass:"featureImg",attrs:{src:a("4a6c"),alt:""}}),t._v("早餐 ")]),s("li",{style:{opacity:t.isFeature(t.features["Air-Conditioner"])}},[s("img",{staticClass:"featureImg",attrs:{src:a("cdb6"),alt:""}}),t._v("空調 ")]),s("li",{style:{opacity:t.isFeature(t.features["Smoke-Free"])}},[s("img",{staticClass:"featureImg",attrs:{src:a("c355"),alt:""}}),t._v("禁止吸菸 ")]),s("li",{style:{opacity:t.isFeature(t.features["Mini-Bar"])}},[s("img",{staticClass:"featureImg",attrs:{src:a("bbda"),alt:""}}),t._v("Mina Bar ")]),s("li",{style:{opacity:t.isFeature(t.features["Refrigerator"])}},[s("img",{staticClass:"featureImg",attrs:{src:a("a46c"),alt:""}}),t._v("冰箱 ")]),s("li",{style:{opacity:t.isFeature(t.features["Child-Friendly"])}},[s("img",{staticClass:"featureImg",attrs:{src:a("7a10"),alt:""}}),t._v("適合兒童 ")]),s("li",{style:{opacity:t.isFeature(t.features["Room-Service"])}},[s("img",{staticClass:"featureImg",attrs:{src:a("dbb4"),alt:""}}),t._v("Room Service ")]),s("li",{style:{opacity:t.isFeature(t.features["Sofa"])}},[s("img",{staticClass:"featureImg",attrs:{src:a("46ff"),alt:""}}),t._v("沙發 ")]),s("li",{style:{opacity:t.isFeature(t.features["Pet-Friendly"])}},[s("img",{staticClass:"featureImg",attrs:{src:a("6d68"),alt:""}}),t._v("寵物友善 ")])])])]),s("div",{staticClass:"col-2"},[s("div",{staticClass:"price"},[s("p",{staticClass:"normalPrice"},[t._v("NT."+t._s(t.roomDetail.normalDayPrice))]),s("span",{staticClass:"priceRange"},[t._v("平日(一~四)")]),s("p",{staticClass:"holidayPrice"},[t._v("NT."+t._s(t.roomDetail.holidayPrice))]),s("span",{staticClass:"priceRange"},[t._v("假日(五~日)")])])]),s("div",{staticClass:"col-4"},[s("div",{staticClass:"datePicker"},[s("vc-date-picker",{attrs:{color:"gray","is-range":"","min-date":new Date},model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1),s("button",{staticClass:"reservationBtn btn btn-secondary",on:{click:t.openModal}},[t._v(" 預約時段 ")]),s("button",{staticClass:"reservationBtn btn btn-secondary",on:{click:t.deleteReservation}},[t._v(" 刪除預約 ")])])])]),s("BookingModal")],1):t._e()},i=[],o=(a("fb6a"),a("bc3a")),r=a.n(o),n=a("1157"),l=a.n(n),c=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{staticClass:"modal fade",attrs:{id:"myModal",tabindex:"-1",role:"dialog","aria-labelledby":"exampleModalLongTitle","aria-hidden":"true"}},[a("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[a("div",{staticClass:"modal-content"},[a("div",{staticClass:"modal-header"},[a("h5",{staticClass:"modal-title",attrs:{id:"exampleModalLongTitle"}},[t._v(" "+t._s(t.modalTitle)+" ")]),t._m(0)]),"預約時段"===t.modalTitle?a("div",{staticClass:"modal-body"},[a("div",{staticClass:"modal-container"},[a("div",{staticClass:"form-group"},[a("label",{staticClass:"formLabel",attrs:{for:""}},[t._v("姓名")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.name,expression:"name"}],staticClass:"form-control",attrs:{type:"text"},domProps:{value:t.name},on:{input:function(e){e.target.composing||(t.name=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"formLabel",attrs:{for:""}},[t._v("電話")]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.tel,expression:"tel"}],staticClass:"form-control",attrs:{type:"tel"},domProps:{value:t.tel},on:{input:function(e){e.target.composing||(t.tel=e.target.value)}}})]),a("div",{staticClass:"form-group"},[a("label",{staticClass:"formLabel",attrs:{for:""}},[t._v("預約起迄")]),a("vc-date-picker",{attrs:{"is-range":"","min-date":new Date},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.inputValue,i=e.inputEvents;return[a("div",{staticClass:"flex justify-center items-center"},[a("input",t._g({staticClass:"border px-2 py-1 rounded focus:outline-none focus:border-indigo-300",domProps:{value:s.start}},i.start)),t._v("~ "),a("input",t._g({staticClass:"border px-2 py-1 rounded focus:outline-none focus:border-indigo-300",domProps:{value:s.end}},i.end))])]}}],null,!1,1478054831),model:{value:t.date,callback:function(e){t.date=e},expression:"date"}})],1)]),a("div",{staticClass:"bookingDay"},[a("div",{staticClass:"modal-container"},[a("div",{staticClass:"countDay"},[a("p",[t._v("平日時段")]),a("p",[t._v(t._s(t.weekday)+"夜")])]),a("div",{staticClass:"countDay"},[a("p",[t._v("假日時段")]),a("p",[t._v(t._s(t.weekend)+"夜")])])])]),a("div",{staticClass:"modal-container"},[a("div",{staticClass:"bookingPrice"},[t._v(" = NT."+t._s(t.weekday*t.roomDetail.normalDayPrice+t.weekend*t.roomDetail.holidayPrice)+" ")])])]):t._e(),"預約時段"===t.modalTitle?a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v(" 取消 ")]),a("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:function(e){return t.submit(t.roomId)}}},[t._v(" 確定預約 ")])]):t._e(),"預約成功"===t.modalTitle?a("div",[t._m(1)]):t._e(),"預約成功"===t.modalTitle?a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:t.hideModal}},[t._v(" 回首頁 ")])]):t._e(),"預約失敗"===t.modalTitle?a("div",[t._m(2)]):t._e(),"預約失敗"===t.modalTitle?a("div",{staticClass:"modal-footer"},[a("button",{staticClass:"btn btn-secondary",attrs:{type:"button"},on:{click:t.hideModal}},[t._v(" 返回 ")])]):t._e()])])])])},d=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[a("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-body"},[s("div",{staticClass:"modal-container"},[s("div",{staticClass:"bookSuccess"},[s("img",{attrs:{src:a("32a6"),alt:""}})])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-body"},[a("div",{staticClass:"modal-container"},[a("div",{staticClass:"bookSuccess"},[a("p",[t._v("預約時間已被人預訂")])])])])}],u=(a("b0c0"),{data:function(){return{}},methods:{hideModal:function(){l()("#myModal").modal("hide"),this.$store.state.modalTitle="預約時段",this.$store.dispatch("getDetailRoom",this.roomId)},submit:function(){var t=this,e={name:this.name,tel:this.tel,date:this.formatDate,roomId:this.$route.params.id};t.$store.dispatch("submit",e)},getTotalNight:function(t){this.$store.dispatch("getTotalNight",t)}},computed:{roomId:function(){return this.$store.state.roomId},roomDetail:function(){return this.$store.state.roomDetail},modalTitle:function(){return this.$store.state.modalTitle},weekday:function(){return this.$store.state.weekday},weekend:function(){return this.$store.state.weekend},form:function(){return this.$store.state.form},date:{get:function(){return this.$store.state.date},set:function(t){this.$store.commit("DATE",t)}},name:{get:function(){return this.$store.state.name},set:function(t){this.$store.commit("NAME",t)}},tel:{get:function(){return this.$store.state.tel},set:function(t){this.$store.commit("TEL",t)}},formatDate:function(){var t=this,e=t.date.start,a=parseInt((t.date.end-t.date.start)/1e3/60/60/24,10);Math.floor(t.date.start)===Math.floor(t.date.end)&&(a=1);for(var s=[],i=0;i<a;i+=1)s.push(new Date(e.getTime()+864e5*i+288e5).toISOString().slice(0,10));return s}},watch:{date:function(){this.getTotalNight(this.date)}}}),m=u,f=a("2877"),v=Object(f["a"])(m,c,d,!1,null,null,null),g=v.exports,p={components:{BookingModal:g},data:function(){return{}},methods:{getRoom:function(t){this.$store.dispatch("getDetailRoom",t)},isFeature:function(t){return t?1:.3},openModal:function(){l()("#myModal").modal("show")},getTotalNight:function(t){this.$store.dispatch("getTotalNight",t)},deleteReservation:function(){var t=this,e="".concat("https://challenge.thef2e.com/api/thef2e2019/stage6","/rooms");r.a.defaults.headers.common.Authorization="Bearer ".concat("fOu6DAOWykQ1ISa7m7r9eRRkDCbdUQf5EVsPGSNlJ5umxxpDsh15hKlerUpi"),t.$http.delete(e).then((function(e){console.log(e),t.getRoom(t.roomId)}))}},computed:{features:function(){var t=this;return t.roomDetail.amenities},formatDate:function(){var t=this,e=t.date.start,a=parseInt((t.date.end-t.date.start)/1e3/60/60/24,10);Math.floor(t.date.start)===Math.floor(t.date.end)&&(a=1);for(var s=[],i=0;i<a;i+=1)s.push(new Date(e.getTime()+864e5*i+288e5).toISOString().slice(0,10));return s},roomDetail:function(){return this.$store.state.roomDetail},isLoading:function(){return this.$store.state.isLoading},bookInfo:function(){return this.$store.state.bookInfo},modalTitle:function(){return this.$store.state.modalTitle},weekday:function(){return this.$store.state.weekday},weekend:function(){return this.$store.state.weekend},roomId:function(){return this.$store.state.roomId},date:{get:function(){return this.$store.state.date},set:function(t){this.$store.commit("DATE",t)}}},watch:{date:function(){this.getTotalNight(this.date)}},created:function(){var t=this;t.$store.state.roomId=t.$route.params.id,t.getRoom(t.roomId)}},h=p,_=Object(f["a"])(h,s,i,!1,null,null,null);e["default"]=_.exports},fd81:function(t,e,a){t.exports=a.p+"img/wifi.7e9c444b.svg"},fde9:function(t,e,a){t.exports=a.p+"img/mountain-range.ad2b689a.svg"}}]);
//# sourceMappingURL=about.a5d2c54e.js.map